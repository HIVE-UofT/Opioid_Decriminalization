# Detecting Misconception Surges in Opioid Policy: A Zero-Shot LLM Analysis of British Columbia's Decriminalization Pilot

**Authors:** Sepehr Harfi Moridani, Marwa Sharifi, Chan Pang Yang, Konrad Samsel, Christoffer Dharma, Mohammad Noaeen, and Zahra Shakeri<br>*Institute of Health Policy, Management and Evaluation, Dalla Lana School of Public Health, University of Toronto*

![Thematic Label Distribution and Co-occurrence Analysis](chords.jpg)

## Abstract

In January 2023, British Columbia (BC) launched Canada's first drug decriminalization pilot in response to persistently high opioid-related deaths. This initiative removed criminal penalties for possession of up to 2.5 grams of certain illicit drugs to reduce stigma and increase service use. Social media platforms such as Reddit provide a real-time window into public perceptions and misconceptions about such policies.

This repository contains the datasets and supplementary materials for our study, where we collected 22,131 comments posted between January 2023 and October 2024 from subreddits discussing decriminalization in British Columbia. We utilized zero-shot Large Language Models (LLMs) to apply a multi-label taxonomy to detect misconception surges.

## Dataset Description

This repository includes several CSV files containing the raw Reddit data, sentiment analysis, and the classification results from various Large Language Models (LLMs).

### File Manifest

| File Name | Description |
| :--- | :--- |
| **`Comments.csv`** | The primary dataset containing the collected Reddit comments. Columns include: <br>• `body`: The text of the comment.<br>• `communityName`: The subreddit source (e.g., r/Canada, r/Vancouver).<br>• `createdAt`: Timestamp of the comment.<br>• `numberOfreplies` & `upVotes`: Engagement metrics. |
| **`sentiment_dataset.csv`** | Contains the sentiment analysis results for the comments. Includes a `sentiment` column classifying the text (e.g., Positive, Negative) along with confidence scores. |
| **`gpt.csv`** | Classification results generated by the **GPT** model. Contains a `writing` column with the predicted class labels (corresponding to the 4 misconception classes + 1 no-claim class). |
| **`llama.csv`** | Classification results generated by the **Llama** model. Contains a `writing` column with the predicted class labels. |
| **`gemini.csv`** | Classification results generated by the **Gemini** model. Contains a `writing` column with the predicted class labels. |
| **`mistral_dataset.csv`** | Detailed output from the **Mistral** model. In addition to classification, this file includes reasoning columns such as:<br>• `opioid_use`: Assessment of opioid usage mentions.<br>• `harm_reduction`: Assessment of harm reduction behavior mentions. |

### Classification Taxonomy
The `writing` column found in the LLM datasets corresponds to the multi-label taxonomy defined in the paper:
1. **Class 1-4:** Specific Misconception Classes (refer to paper for definitions).
2. **Class 5:** No-Claim / Neutral.

## Usage

To load the datasets in Python:

```python
import pandas as pd

# Load the raw comments
df_comments = pd.read_csv('Comments.csv')

# Load the GPT classification results
df_gpt = pd.read_csv('gpt.csv')

# Merge datasets if necessary (ensure indices align)
df_merged = df_comments.join(df_gpt[['writing']])
